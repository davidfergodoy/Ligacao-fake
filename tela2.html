<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ligação em andamento</title>

<style>
body {
  background: black;
  margin: 0;
  font-family: Arial, sans-serif;
  color: white;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
}

.phone {
  width: 90vw;
  max-width: 320px;
  height: 85vh;
  max-height: 640px;
  border: 2px solid #222;
  border-radius: 35px;
  background: black;
  text-align: center;
  padding-top: 120px;
  box-sizing: border-box;
}

h2 {
  font-size: 24px;
  margin-bottom: 10px;
}

.status {
  color: gray;
  font-size: 16px;
  margin-bottom: 10px;
}

.timer {
  font-size: 32px;
  margin-bottom: 60px;
}

button {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  border: none;
  background: #ff3b30;
  color: white;
  font-size: 16px;
  cursor: pointer;
}

button:active {
  transform: scale(0.9);
}
</style>
</head>

<body>

<div class="phone">

  <h2>Origon Investimentos</h2>
  <div class="status">Ligação em andamento...</div>

  <div id="timer" class="timer">00:00</div>

  <button onclick="encerrar()">Encerrar</button>

  <!-- ÁUDIO DA LIGAÇÃO -->
  <audio id="callAudio">
    <source src="ligacao.mp3" type="audio/mpeg">
  </audio>

  <!-- SOM DE FUNDO OPCIONAL -->
  <audio id="bgAudio" loop>
    <source src="call_background.mp3" type="audio/mpeg">
  </audio>

</div>

<script>
let segundos = 0;
let intervalo;

// Contador
function atualizarTimer() {
  segundos++;

  const minutos = Math.floor(segundos / 60);
  const secs = segundos % 60;

  const formatado =
    String(minutos).padStart(2, '0') + ":" +
    String(secs).padStart(2, '0');

  document.getElementById("timer").innerText = formatado;
}

function iniciarTimer() {
  intervalo = setInterval(atualizarTimer, 1000);
}

// Iniciar ligação
window.onload = () => {
  iniciarTimer();

  const callAudio = document.getElementById("callAudio");
  const bgAudio = document.getElementById("bgAudio");

  // Tocar áudio principal
  callAudio.play().catch(() => {
    console.log("Autoplay bloqueado — aguardando toque.");
  });

  // Tocar som de fundo (se existir)
  bgAudio.play().catch(() => {});

  // Caso navegador bloqueie autoplay
  document.body.addEventListener("click", () => {
    callAudio.play();
    bgAudio.play();
  }, { once: true });

  // Quando o áudio terminar
  callAudio.onended = () => {
    document.querySelector(".status").innerText = "Ligação finalizada";
    clearInterval(intervalo);
    bgAudio.pause();
  };
};

// Encerrar ligação manualmente
function encerrar() {
  clearInterval(intervalo);

  const callAudio = document.getElementById("callAudio");
  const bgAudio = document.getElementById("bgAudio");

  callAudio.pause();
  bgAudio.pause();

  document.querySelector(".status").innerText = "Ligação encerrada";
}
</script>

</body>
</html>


